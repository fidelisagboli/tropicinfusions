/* =========================================================
   Tropic Infusions — Unified Styles
   - Landing (Juice Genius): .genius-landing
   - Other pages: body:not(.genius-landing)
========================================================= */

/* ----------------------------
   LANDING (Juice Genius)
-----------------------------*/
.genius-landing{
  --accent-1:#9eff1f;  /* lime */
  --accent-2:#7c4dff;  /* purple */
  --text:#fff;

  color:var(--text);
  font-family:'Della Respira', serif;

  /* lock the page; no scroll */
  height:100vh;
  overflow:hidden;

  /* bright background image */
  background:#000; /* fallback while image loads */
}
.genius-landing *{ box-sizing:border-box; }

/* Bright tropical background (no dark overlays) */
.genius-landing .bg{
  position:fixed; inset:0; z-index:-2;
  background:url("background/tropic_infusions.png") center/cover no-repeat;
}

/* Hide old particles/overlays if present */
.genius-landing .bg::after,
.genius-landing .hero::before{ content:none !important; }
.genius-landing canvas#fx{ display:none !important; }

/* Navbar (landing) */
.genius-landing .navbar{
  position:fixed; top:0; left:0; right:0; z-index:10;
  display:flex; justify-content:space-between; align-items:center;
  padding:14px 24px;
  background:rgba(0,0,0,.25); backdrop-filter:blur(6px);
}
.genius-landing .navbar .brand-link{ display:flex; gap:.5rem; align-items:center; text-decoration:none; }
.genius-landing .navbar .brand-link .tropic{
  font-family:'Quattrocento',serif; font-size:1.8rem; color:var(--accent-2);
  text-shadow:0 0 10px var(--accent-2);
}
.genius-landing .navbar .brand-link .infusions{
  font-family:'Quattrocento',serif; font-size:1.8rem; color:var(--accent-1);
  text-shadow:0 0 10px var(--accent-1);
}
.genius-landing .navlinks a{ color:#fff; text-decoration:none; margin-left:18px; }
.genius-landing .navlinks a:hover{ color:var(--accent-1); }

/* Layout: fixed viewport, center content */
.genius-landing .hero{
  height:100%;
  display:flex; align-items:center; justify-content:center;
  padding:90px 20px 70px; /* room for fixed nav & footer */
}
.genius-landing .hero-inner{
  width:100%; max-width:820px;
  display:flex; flex-direction:column; align-items:center; text-align:center;
  gap:0.6rem;
}

/* Brand lockup (2:1 ratio, bigger; can shrink on small screens) */
.genius-landing .brand-hero{ display:grid; place-items:center; gap:.2rem; margin-bottom:0.2rem; }
.genius-landing .brand{
  font-family:'Quattrocento',serif;
  font-weight:400; text-transform:uppercase; margin:0;
  font-size:clamp(56px, 10vw, 160px); /* main size */
  line-height:.9; letter-spacing:0;
}
/* cross-colored glow */
.genius-landing .brand-tropic{
  display:block; color:var(--accent-2);
  text-shadow:0 0 22px var(--accent-1), 0 2px 10px rgba(0,0,0,.35);
}
.genius-landing .brand-infusions{
  display:block; color:var(--accent-1);
  text-shadow:0 0 22px var(--accent-2), 0 2px 10px rgba(0,0,0,.35);
}
/* tagline at 1/2 size, tighter gap */
.genius-landing .brand-tagline{
  font-family:'Quattrocento',serif; font-weight:400; margin:.1rem 0 0;
  font-size:calc(clamp(56px, 10vw, 160px)/2);
}

/* Descriptive line — closer to logo, away from buttons */
.genius-landing .tag{
  font-family:'Della Respira',serif;
  font-size:clamp(14px, 2.1vw, 20px);
  margin-top:0.25rem;       /* closer to logo */
  margin-bottom:0.6rem;    /* more space before chat */
  text-shadow:0 2px 10px rgba(0,0,0,.25);
}

/* Tip chip — keep in view */
.genius-landing .cta-chip{
  position:fixed; left:20px; bottom:110px; z-index:9;
  background:rgba(0,0,0,.28); border:1px solid rgba(255,255,255,.2);
  backdrop-filter:blur(8px); padding:10px 14px; border-radius:999px;
}

/* === Shared bottom navbar on ALL pages === */
.footer-bar{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  z-index: 1000;
  background: rgba(0,0,0,.25);
  backdrop-filter: blur(6px);
  color: #fff;
  padding: 10px 16px;
  text-align: center;
  font-size: 13px;
}
.footer-bar a{
  color: var(--accent-1, #9eff1f);
  text-decoration: none;
}
.footer-bar a:hover,
.footer-bar a:focus-visible{
  text-decoration: underline;
  text-underline-offset: 3px;
}

/* Make sure page content never hides behind the fixed footer */
.page-content{ padding-bottom: 70px; }

/* Non-landing pages already scroll; keep extra safety */
body:not(.genius-landing) .page-content{ padding-bottom: 90px; }

/* Chat stack: centered under logo; internal scroll only */
.genius-landing .chat{
  width:min(760px, 92vw);
  display:flex; flex-direction:column; gap:10px;
  margin:0 auto;
}
.genius-landing .chatbox{
  min-height:160px; max-height:35vh; overflow:auto;
  background:rgba(0,0,0,.45);
  border:1px solid rgba(255,255,255,.18);
  border-radius:14px; padding:12px; backdrop-filter:blur(10px);
  text-align: left;         /* align text left */
  display: flex;
  flex-direction: column;   /* stack bubbles top → bottom */
  align-items: flex-start;  /* ensure assistant bubbles hug left */
  justify-content: flex-start;
  padding: 16px;            /* slightly more breathing room */
}

/* Bubbles */
.genius-landing .bubble{ max-width:85%; 
  display: inline-block;
  max-width: 85%;
  padding: 10px 14px;
  border-radius: 14px;
  margin: 6px 0;
  white-space: pre-wrap;
  text-align: left; /* always left aligned text */ 
}
.genius-landing .bubble.user{
  align-self:flex-end; background:rgba(158,255,31,.25);
  border:1px solid var(--accent-1); color:#fff;
}
.genius-landing .bubble.assistant{
  align-self:flex-start; background:rgba(124,77,255,.25);
  border:1px solid var(--accent-2); color:#fff;
}

/* Composer: textarea, then mic+send row, then meta row */
.genius-landing .composer{ display:grid; gap:10px; }
.genius-landing .composer textarea{
  min-height:64px; resize:vertical;
  border-radius:12px; border:1px solid #333;
  background:rgba(0,0,0,.4); color:#fff; padding:10px;
  font-family:'Della Respira',serif;
}
/* Placeholder visible on bright bg */
.genius-landing .composer textarea::placeholder{ color:#fff; opacity:.6; }

/* Row with mic above Send (two buttons) */
.genius-landing .composer-row{
  display:grid; grid-template-columns:1fr 1fr; gap:10px;
}
.genius-landing .btn{
  border:0; border-radius:12px; cursor:pointer; font-weight:700; padding:12px 16px;
}
.genius-landing .btn.mic{
  background:linear-gradient(90deg, var(--accent-2), var(--accent-1)); color:#000;
}
.genius-landing .btn.send{
  background:var(--accent-1); border:1px solid var(--accent-1); color:#000;
}
.genius-landing .btn:active{ transform:scale(.98); }

/* Meta row (under textbox): status + viz */
.genius-landing .composer-meta{
  display:flex; align-items:center; gap:10px; justify-content:center;
}
.genius-landing .chip{
  background:rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.15);
  border-radius:999px; padding:6px 10px; font-size:13px;
}
.genius-landing .viz{ display:flex; gap:3px; align-items:flex-end; height:26px; }
.genius-landing .viz .bar{
  width:6px; height:6px; border-radius:4px;
  background:linear-gradient(180deg, rgba(158,255,31,.95), rgba(124,77,255,.9));
}

/* Mobile fit: if space is tight, gently shrink brand to keep everything onscreen */
@media (max-width: 480px){
  .genius-landing .brand{ font-size:clamp(44px, 12vw, 120px); }
  .genius-landing .brand-tagline{ font-size:calc(clamp(44px, 12vw, 120px)/2); }
  .genius-landing .chatbox{ max-height:38vh; }
  .genius-landing .composer-row{ grid-template-columns:1fr; }
}

/* -----------------------------------
   NON-LANDING PAGES (classic site)
------------------------------------*/
body:not(.genius-landing){
  font-family:'Della Respira', serif;
  color:#fff; text-align:center; margin:0; padding:0; overflow-x:hidden;
}

/* Fixed navbar restored */
body:not(.genius-landing) .navbar{
  position:fixed; top:0; left:0; right:0; z-index:1000;
  display:flex; justify-content:space-between; align-items:center;
  padding:14px 24px; background:rgba(0,0,0,.35); backdrop-filter:blur(6px);
  box-sizing:border-box;
}
body:not(.genius-landing) .navbar .brand-link,
body:not(.genius-landing) .navbar .navbar-title a{
  display:inline-flex; gap:.5rem; align-items:center; text-decoration:none;
  font-family:'Quattrocento',serif; font-weight:400;
}
body:not(.genius-landing) .navbar .tropic,
body:not(.genius-landing) .navbar .infusions{ font-size:2rem; line-height:1; }
body:not(.genius-landing) .navbar .tropic{ color:#9440dd; text-shadow:0 0 6px rgba(148,64,221,.6); }
body:not(.genius-landing) .navbar .infusions{ color:#9eff1f; text-shadow:0 0 6px rgba(158,255,31,.6); }
body:not(.genius-landing) .navbar .brand-link:hover .tropic,
body:not(.genius-landing) .navbar .brand-link:hover .infusions,
body:not(.genius-landing) .navbar .brand-link:focus-visible .tropic,
body:not(.genius-landing) .navbar .brand-link:focus-visible .infusions{
  color:#9eff1f; text-shadow:0 0 10px #9eff1f, 0 0 18px #9eff1f;
}
body:not(.genius-landing) .navlinks a{
  color:#fff; text-decoration:none; margin-left:18px; font-size:1.05rem;
}
body:not(.genius-landing) .navlinks a:hover,
body:not(.genius-landing) .navlinks a:focus-visible{ color:#9eff1f; text-decoration:underline; text-underline-offset:3px; }

/* Page spacing under fixed nav */
body:not(.genius-landing) .page-content{ padding-top:90px; padding-bottom:90px; }

/* Headings */
body:not(.genius-landing) h1{
  font-family:'Quattrocento',serif; text-transform:uppercase; font-size:4rem; margin-bottom:.5rem;
}
body:not(.genius-landing) h2{ font-family:'Della Respira',serif; font-size:2.5rem; margin:.25rem 0 1.5rem; }

/* Flavor menu — **uniform button size** */
body.flavors-page .flavor-menu{
  width:100%; max-width:360px; margin:0 auto;
  display:flex; flex-direction:column; gap:.75rem;
}
body.flavors-page .flavor-menu a{
  width:100%; height:56px; box-sizing:border-box;
  display:flex; align-items:center; justify-content:center;
  padding:0 16px; text-align:center; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  font-family:'Della Respira',serif; font-size:1.5rem; color:#fff; text-decoration:none;
  border:2px solid black; border-radius:8px; transition:filter .3s ease;
}
@media (min-width:820px){
  body.flavors-page .flavor-menu{ max-width:760px; display:grid; grid-template-columns:repeat(2,1fr); gap:.9rem; }
  body.flavors-page .flavor-menu a{ width:100%; }
}
/* Colorways */
.flavor-menu a.mango      { background:linear-gradient(90deg,#f19a5c,#f9db6f); }
.flavor-menu a.kiwi       { background:linear-gradient(90deg,#e76366,#8355eb); }
.flavor-menu a.carrot     { background:linear-gradient(45deg,#1ebda5,#e26a00,#ffe046); }
.flavor-menu a.celery     { background:linear-gradient(45deg,#c90003,#185100,#64aa38); }
.flavor-menu a.cucumber   { background:linear-gradient(180deg,#7cce6b,#d8ffd0); }
.flavor-menu a.apple      { background:linear-gradient(180deg,#731919,#e52b2b); }
.flavor-menu a.watermelon { background:linear-gradient(45deg,#aaff4e,#9a6bff,#ff44da); }
.flavor-menu a.grape      { background:linear-gradient(45deg,#6da215,#9edc4c); }
.flavor-menu a.papaya     { background:linear-gradient(180deg,#997300,#ffc000); }
.flavor-menu a.citrus     { background:linear-gradient(45deg,#431043,#d34681); }
.flavor-menu a.soulfruit  { background:linear-gradient(45deg,#381313,#ee8e71); }

/* Backgrounds for non-landing pages */
body.about-page, body.genius-page, body.flavors-page{
  background:url("background/tropic_infusions.png") center/cover no-repeat;
  min-height:100vh;
}

/* Mobile (non-landing) */
@media (max-width:600px){
  body:not(.genius-landing) h1{ font-size:2.4rem; }
  body:not(.genius-landing) h2{ font-size:1.6rem; }
  body:not(.genius-landing) .navbar .tropic,
  body:not(.genius-landing) .navbar .infusions{ font-size:1.6rem; }
  body:not(.genius-landing) .navlinks a{ font-size:1rem; }
}

/* --- Keep content clear of the fixed bottom footer --- */
:root { --footer-h: 64px; }

.genius-landing .page-content {
  /* already wraps the hero; ensure it clears the footer */
  padding-bottom: calc(var(--footer-h) + 24px + env(safe-area-inset-bottom));
}

body:not(.genius-landing) .page-content {
  /* non-landing pages can scroll; give them a bit more too */
  padding-bottom: calc(var(--footer-h) + 30px + env(safe-area-inset-bottom));
}

/* optional: give the composer a little extra breathing room */
.genius-landing .composer { margin-bottom: 12px; }

/* iOS safe‑area help if needed */
.footer-bar {
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
}